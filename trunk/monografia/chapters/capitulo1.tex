\chapter{Introdu\c{c}\~ao}
\label{cap1}

A indústria do entretenimento é uma das que mais cresce, e o Brasil está entre as que apresentam maior crescimento nessa área~[\citenum{sebrae}]. Um dos motivos é a grande variedade do que pode ser feito para essa indústria. Por exemplo, se for entregue uma caixa de papelão a uma criança, ela irá fazer um forte ou uma espaçonave e se divertirá com aquilo. Isso faz com que essa indústria seja altamente lucrativa e muito buscada. Em~[\citenum{retro}] e~[\citenum{I2GMDVP}], pode-se ver a história dos primeiros \textit{video games}, explicadas a seguir. A indústria de \textit{video games} começou somente com alguns programas demonstrativos para computadores, a partir de 1952. Foram criados pequenos jogos que utilizavam os inputs limitados disponíveis, como um jogo-da-velha eletrônico, chamado \textit{OXO} (Figura~[\ref{retro1}],) criado por \textit{Alexander S. Douglas}, ou o \textit{Tennis for two} (Figura~[\ref{retro2}]), criado pelo \textit{Brookhaven National Laboratory} (Departamento de energia dos EUA).

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.4]{oxo.png}
	\caption{Jogo para \textit{EDSAC} \textit{OXO}~[\citenum{retro}]}
	\label{retro1}
	\end{center}
\end{figure}

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.4]{tennis_for_two.jpg}
	\caption{Jogo para um osciloscópio \textit{Tennis for two}~[\citenum{retro}]}
	\label{retro2}
	\end{center}
\end{figure}

Já em 1962, \textit{Steve Russell} desenvolveu um jogo chamado \textit{Spacewar!} (Figura~[\ref{retro3}]), inicialmente para um sistema chamado \textit{PDP-1}. Ele consiste de um jogo de dois jogadores, cada um no controle de uma nave, em que o objetivo é atirar mísseis para destruir a nave do oponente. O jogo conseguiu tanta popularidade que em seguida foi adaptado para vários outros sistemas populares na época, e o jogo era um teste de sistema tão bom para o \textit{PDP-1} que o sistema era vendido já com o jogo em memória. Isso fez com que o \textit{Spacewar!} fosse o primeiro jogo de computador altamente difundido.

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.6]{spacewar.png}
	\caption{Jogo para computadores antigos \textit{Spacewars!}~[\citenum{retro}]}
	\label{retro3}
	\end{center}
\end{figure}

O primeiro console doméstico lançado foi o \textit{Magnavox Odyssey}~[\citenum{odyssey}], que pode ser observado na Figura~[\ref{odyssey}], lançado em 1972. ele inaugurou uma idéia inovadora, de se criar um aparelho computacional independente de uma tela, para ser conectado a televisores, o que até então não havia sido pensado, os computadores sempre vinham acoplados a suas telas. Além disso, ele também inaugurou outro conceito que é o de mídia removível para os consoles, que evolui para os cartuchos e, hoje em dia, aos DVDs e Blu-Rays. Porém, devido ao preço um pouco caro para a época e uma má estratégia de marketing, o \textit{Odyssey} não foi muito popular. Uma outra companhia que inaugurou seu console em 1976, a \textit{Atari}, teve uma melhor estratégia. Ela lançou seu nome no mercado devido ao seu jogo \textit{Pong}, um simples jogo de tênis, que foi inicialmente lançado para uma máquina com uma tela que permitia o jogo através de um sistema de moedas em 1972 e foi adaptado para uma versão doméstica em 1973~[\citenum{atari}]. Em 1976, utilizando um novo processador barato na época, o \textit{MOS 6502}, a \textit{Atari} lança seu primeiro console doméstico com possiblidade de trocar jogos, o \textit{Atari 2600} (Figura~[\ref{atari}]). Esse console teve um enorme sucesso de acordo com~[\citenum{atari}].

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.4]{odyssey.jpg}
	\caption{Console \textit{Odyssey} da \textit{Magnavox}~[\citenum{odyssey}]}
	\label{odyssey}
	\end{center}
\end{figure}

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=1.0]{atari.jpg}
	\caption{Console \textit{Atari 2600} da \textit{Atari}~[\citenum{atari}]}
	\label{atari}
	\end{center}
\end{figure}

Ambos esses consoles domésticos tinham controladores para se entrar o \textit{input} do jogo, o do \textit{Odyssey} sendo composto de duas rodas e um botão \textit{reset}, e o do \textit{Atari} sendo composto de um \textit{joystick}, que é uma haste que pode ser movida para enviar direções ao jogo, e um botão.

Após esse período, os \textit{video games} passaram por um declínio, e somente por 1980 que a \textit{Nintendo} resgatou esse mercado com o lançamento de um jogo conhecido como \textit{Donkey Kong}, inicialmente desenvolvido em conjunto com a \textit{Atari}, porém uma divergência sobre direitos autorais do \textit{Donkey Kong} fez as companhias terminarem a parceria~[\citenum{atari}]. Em 1985 a \textit{Nintendo} lançou seu console, o \textit{NES} (Figura~[\ref{nes}]), e passou a dominar o mercado, com pouca competição de sua nova concorrente, \textit{SEGA}, e seu console \textit{Master System}. Esses consoles possuiam \textit{gamepads} para a movimentação nos jogos, sendo compostos de uma cruz direcional que funciona similar ao joystick e vários botões.

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.4]{nes.jpg}
	\caption{Console \textit{NES} da \textit{Nintendo}~[\citenum{nes}]}
	\label{nes}
	\end{center}
\end{figure}

Nesse momento a indústria do entretenimento eletrônico teve um grande crescimento, abrindo o mercado para cada vez mais competidores a medida que se foi evoluindo as gerações de consoles. A \textit{Nintendo} se manteve forte por todo esse tempo, se tornando uma das três companhias que dominam esse mercado hoje em dia. Sua principal competidora, a \textit{SEGA}, não conseguiu acompanhar, e seu último console, o \textit{Dreamcast}, teve pouca venda. Atualmente a \textit{SEGA} ainda é uma empresa grande, entretanto, só atua na produção de jogos para outros consoles.

Durante a evolução dos jogos, uma empresa fez parceria com a \textit{Nintendo} para tentar lançar um novo sistema em que os cartuchos foram trocados por CDs, diminuindo seu custo e aumenta a sua capacidade de armazenamento. Essa empresa é a \textit{Sony}. Devido a desentendimentos a parceria terminou, porém, a \textit{Sony} insistiu na idéia e em 1994 lançou o seu console, o \textit{Playstation}. Esse console foi um sucesso de vendas enorme, no entanto, o que realmente colocou a \textit{Sony} no mapa dos consoles foi o seu próximo console, \textit{Playstation 2}. Esse console foi uma grande revolução no seu tempo e saiu um ano antes dos consoles de sua geração, o que ocasionou no maior índice de vendas de um console de \textit{video game} de todos os tempos, vendendo mais de 140 milhões de unidades. Atualmente a \textit{Sony} compete no mercado como uma das maiores empresas de diversão eletrônica.

Outra empresa que resolveu explorar esse mundo dos consoles é a \textit{Microsoft}. Gigante no mundo da computação, ela viu a oportunidade de aplicar seus conhecimentos para criar um sistema barato, eficiente e inovador. Em 2001, ela lançou seu primeiro console, o \textit{Xbox}. Esse console, que é da mesma geração que o \textit{Playstation 2}, saiu um pouco tarde, afetando bastante as suas vendas. Ele foi feito baseado na arquitetura de um PC tradicional, apesar de possuir uma produção muito cara, ele acabou dando altas perdas iniciais para a empresa. Porém, a \textit{Microsoft} insistiu nesse mercado e hoje compete com as outras duas empresas por essa geração de consoles.

Todos esses consoles utilizaram o mesmo método de input de seus predecessores, com o uso do \textit{gamepad} como entrada principal de \textit{input}, alguns possuindo outros controladores, como pistolas que podiam ser apontadas para a tela. Entretanto, devido ao alto preço desses controladores e baixa quantia de jogos compatíveis, nenhum deles chegou a fazer alguma marca no mercado.

Atualmente, o mercado dos jogos eletrônicos conta com três consoles competindo pelo mercado, o \textit{Nintendo Wii} da \textit{Nintendo}, o \textit{Xbox 360} da \textit{Microsoft} e o \textit{Playstation 3} da \textit{Sony}, os três podem ser observados na Figura~[\ref{consoles}], além dos três estarem competindo com jogos desenvolvido para os computadores pessoais, que hoje em dia existem em muitas residências, e aparelhos dos mais variados como celulares com superfície sensível ao toque. Nesse mercado de competição, para ser levado em consideração, deve-se ser inovador.

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=1.4]{wii-ps3-xbox360.jpg}
	\caption{Consoles de última geração. Da esquerda pra direita: \textit{Wii}, \textit{Playstation 3} e \textit{Xbox 360}~[\citenum{consoles}]}
	\label{consoles}
	\end{center}
\end{figure}

Durante a evolução natural da intera\c{c}\~ao entre o homem e a m\'aquina, busca-se cada vez mais a adapta\c{c}\~ao dos gestos para o ambiente virtual. Ao fornecer ao usu\'ario gestos fáceis de usar, diminui a curva de aprendizado de sua utilização, bem como mant\^em um ambiente mais familiar ao usu\'ario. As grandes companhias competidoras já estão caminhando em direção a isso. O \textit{Nintendo Wii} possui controles sensíveis ao movimento, permitindo o uso de gestos para o controle em seus jogos, o \textit{Wiimote} (Figura~[\ref{wiimote}]), assim como o \textit{Playstation 3} possui seus controles sensíveis ao movimento e com noção de profundidade, o \textit{Playstation Move} (Figura~[\ref{move}]), e o \textit{Xbox 360} possui o \textit{Kinect} (Figura~[\ref{kinect}]), uma câmera inteligente capaz de identificar gestos.

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.2]{wiimote.jpg}
	\caption{Controle para \textit{Nintendo Wii} \textit{Wiimote}~[\citenum{controles}]}
	\label{wiimote}
	\end{center}
\end{figure}

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.2]{move.jpg}
	\caption{Controle para \textit{Playstation 3} \textit{Playstation Move}~[\citenum{controles}]}
	\label{move}
	\end{center}
\end{figure}

\begin{figure}[h!]
	\begin{center}
	\includegraphics[scale=0.2]{kinect.jpg}
	\caption{Câmera para \textit{Xbox 360} \textit{Kinect}~[\citenum{controles}]}
	\label{kinect}
	\end{center}
\end{figure}

Como apresentado anteriormente, os consoles principais disputam o mercado de jogos com vários aparelhos diferentes. Um desses aparelhos que ainda é pouco explorado trata de mesas com superfície multi-toque. Tem poucos exemplos de mesas multi-toque, como a \textit{Reactable}~[\citenum{react}] ou a \textit{Microsoft Surface}~[\citenum{microsoftsurface}], e nenhuma que já esteja popularmente dispersada no mercado, devido ao alto custo que as opções comerciais normalmente possuem. Esta interface, no entanto, possui um grande potencial, e existem alternativas para construir mesas deste tipo usando materiais baratos, o que foi feito no decorrer deste trabalho.

Estas mesas multi-toque já possuem alguns \textit{softwares} disponíveis, porém não existe um bom software que demonstre inteiramente as capacidades de \textit{input} da mesa. Dessa forma, este trabalho mostra a criação de um software simulador de física bidimensional para uma mesa com superfície multi-toque, que devido as suas propriedades possui uma boa sinergia com o método de interface escolhido, explorando assim, as capacidades de \textit{input} da mesa em um único \textit{software} de estilo pouco explorado e divertido.

Os softwares simuladores de física são essencialmente programas que começam com um mundo em aberto, e o usuário pode desenhar nele os objetos que desejar, podendo atribuir a eles as propriedades que quiser, e eles irão interagir de acordo com as leis da física, obedecendo gravidade, aceleração e empuxo. Assim, um software nesse estilo permitiria utilizar as capacidades da mesa demonstrando seus gestos disponíveis, como scale e rotate, bem como a detecção de gestos padrões como o desenho de um quadrado ou círculo. Softwares nesse estilo incluem o \textit{Phun}, \textit{Crayon Physics} e \textit{Numpty Physics}, este último que possui uma conversão para \textit{input} multi-toque, porém ele possui recursos limitados e não foi planejado para corretamente suportar um número arbritário de toques vindo de um número desconhecido de usuários, o que deve ser cuidado ao desenvolver softwares para uma mesa multi-toque.

O software desenvolvido neste trabalho, chamado de \textit{Deskworld}, segue estas mesmas regras de softwares simuladores de fisica, porém, como é planejado para mesas multi-toque, possui algumas propriedades novas, como a possibilidade de dividir o mundo para utilização de usuários em condições diferentes, e a detecção de gestos para aproximar formas ao seu estado ideal, pois é difícil de desenhar precisamente utilizando somente os dedos.

Como as mesas com superfície multi-toque não são ainda disponíveis em massa para a residência dos usuários, sua maior taxa de uso está focada em exposições, onde os usuários possuem somente um encontro breve com a mesa. Assim, um aplicativo desenvolvido para uma mesa dessas necessita ser fácil de controlar e possuir suporte a múltiplos usuários a interagindo simultâneamente a qualquer momento, o que é feito com o software desenvolvido neste trabalho. Ao mesmo tempo, este software possui uma grande capacidade de criação, proporcionando também diversão para usuários a longo prazo.

O restante deste trabalho está dividido conforme segue. O segundo capítulo deste trabalho apresenta trabalhos correlatos, exibindo mesas parecidas a desenvolvida e \textit{softwares} similares ao proposto, ambos para mesas como para outros sistemas em geral, sensíveis ao toque ou não. O terceiro capítulo apresenta o fundamento teórico por trás da mesa, explicando os princípios de processamento de imagem necessários para entender toques na mesa, bem como os filtros utilizados, e explica os métodos de iluminação e como isso afeta este projeto. O quarto capítulo detalha sobre a construção da mesa em si, onde está exposto o projeto da mesa, explicando as decisões de \textit{hardware} escolhidos de acordo com as dimensões da mesa e explicando como foram feitos fisicamente os passos necessários para a detecção de toque, com a utilização de LEDs e uma câmera infravermelha. O quinto capítulo demonstra a implementação do \textit{software} proposto, chamado \textit{Deskworld}, apresentando aspectos como o \textit{Design} que explica seus detalhes, conceito, objetos e regras. Neste mesmo capítulo é exibido a arquitetura utilizada, detalhes de implementação, mostrando como foi implementado em uma visão de nível mais baixo, explicando as decisões do projeto e as escolhas feitas sobre a orientação a componentes. Na seção final deste capítulo, explica-se com mais detalhes sobre as ferramentas utilizadas de suporte para a implementação do jogo proposto, como a \textit{Community Core Vision} e a engine \textit{Box2D}. Por fim, o sexto capítulo elenca algumas considerações finais e trabalhos futuros.